<!DOCTYPE html>
<html>
<head>
<title>JavaScript JSON</title>
</head>
<body>
<h2>JavaScript JSON Arrays</h2>

<p>1) JSON array access through index</p>
<p id="demo1"></p>

<p>2) Loop through JSON array</p>
<p id="demo2"></p>
<p id="demo3"></p>

<p>3) Loop througn nested JSON array</p>
<p id="demo4"></p>

<h2>JSONP</h2>
<p>JSONP is a method for sending JSON data without worrying about cross-domain issues.<br>
  JSONP does not use the XMLHttpRequest object.<br>
  JSONP uses the &ltscript&gt tag instead.<br>
<b>JSONP means JSON with padding</b></p>
<p>Requesting a file from another domain can cause problems, due to cross-domain policy.<br>
  Requesting an external script from another domain does not have this problem.<br>
  JSONP uses this advantage, and request files using the script tag instead of the XMLHttpRequest object.</p>

<p>4) Request JSON using the script tag (external file)</p>
<p>The PHP file returns a call to a function that will handle the JSON data.</p>
<p id="demo5"></p>

<p>5) Create a script tag with src and place it in document</p>
<p>Then PHP file returns a call to a function with JSON as parameter</p>
<button onclick="clickButton()">Click me!</button>
<p id="demo6"></p>


<p id="demo7"></p>
<p id="demo8"></p>
<p id="demo9"></p>
<p id="demo10"></p>
<p id="demo11"></p>
<p id="demo12"></p>
<p id="demo13"></p>
<p id="demo14"></p>
<p id="demo15"></p>
<p id="demo16"></p>
<p id="demo17"></p>
<p id="demo18"></p>
<p id="demo19"></p>
<p id="demo20"></p>

</body>
<script>
var json1 = {
"name":"John",
"age":30,
"cars":[ "Ford", "BMW", "Fiat" ]
} 
document.getElementById("demo1").innerHTML = json1.cars[0];

for(var i in json1.cars){
    document.getElementById("demo2").innerHTML += json1.cars[i] +"<br>";
}

for(var i = 0; i < json1.cars.length; i++){
    document.getElementById("demo3").innerHTML += json1.cars[i] +"<br>";
}

var json2 = {
  "name":"John",
  "age":30,
  "cars": [
    { "name":"Ford", "models":[ "Fiesta", "Focus", "Mustang" ] },
    { "name":"BMW", "models":[ "320", "X3", "X5" ] },
    { "name":"Fiat", "models":[ "500", "Panda" ] }
  ]
 } 

var txt ="";

for (var i in json2.cars){
    txt += "<h3>" + json2.cars[i].name + "</h3>";
    for (var j in json2.cars[i].models){
        txt += json2.cars[i].models[j] + "<br>";
    }
}

document.getElementById("demo4").innerHTML = txt;

function myFunc(obj) {
  document.getElementById("demo5").innerHTML = obj.name;
}

function clickButton() {
  var s = document.createElement("script");
  s.src = "https://www.w3schools.com/js/demo_jsonp.php";
  document.body.appendChild(s);
}
</script>

<!--<script src="https://www.w3schools.com/js/demo_jsonp.php"></script> -->

</html>